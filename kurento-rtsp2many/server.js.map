{"version":3,"file":"server.js","sourceRoot":"","sources":["server.ts"],"names":["nextUniqueId","addMaster","getKurentoClient","startMaster","startViewer","removeReceiver","removeSender","stop","ActionResponse"],"mappings":"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C,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC,CAACA,CAACA;AACPA,CAACA;AAED,IAAI,MAAM,EACN,SAAS,GAAG,EAAE,CAAC;AACnB,wBAAwB,EAAE;IACtBC,EAAEA,CAACA,CAACA,CAACA,SAASA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA;QACjBA,MAAMA,CAACA;IACXA,CAACA;IACDA,IAAIA,QAAQA,GAAGA,SAASA,CAACA,EAAEA,CAACA,CAACA;IAC7BA,QAAQA,CAACA,cAAcA,CAACA,OAAOA,EAAEA,CAACA;IAClCA,OAAOA,QAAQA,CAACA,EAAEA,CAACA,CAACA;AACxBA,CAACA;AAED;IACIC,EAAEA,CAACA,CAACA,MAAMA,KAAKA,IAAIA,CAACA,CAACA,CAACA;QAClBA,MAAMA,CAACA;IACXA,CAACA;IAEDA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,IAAIA,SAASA,CAACA,CAACA,CAACA;QACvBA,cAAcA,CAACA,EAAEA,CAACA,CAACA;IACvBA,CAACA;IAEDA,MAAMA,CAACA,cAAcA,CAACA,OAAOA,EAAEA,CAACA;IAChCA,MAAMA,GAAGA,IAAIA,CAACA;AAClBA,CAACA;AAED,cAAc,EAAE,EAAE,EAAE;IAChBC,EAAEA,CAACA,CAACA,MAAMA,KAAKA,IAAIA,IAAIA,MAAMA,CAACA,EAAEA,IAAIA,EAAEA,CAACA,CAACA,CAACA;QACrCA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,IAAIA,OAAOA,CAACA,CAACA,CAACA;YACrBA,IAAIA,MAAMA,GAAGA,OAAOA,CAACA,EAAEA,CAACA,CAACA;YACzBA,EAAEA,CAACA,CAACA,MAAMA,CAACA,EAAEA,CAACA,CAACA,CAACA;gBACZA,MAAMA,CAACA,EAAEA,CAACA,IAAIA,CAACA,IAAIA,CAACA,SAASA,CAACA;oBAC1BA,EAAEA,EAAEA,mBAAmBA;iBAC1BA,CAACA,CAACA,CAACA;YACRA,CAACA;QACLA,CAACA;QACDA,OAAOA,GAAGA,EAAEA,CAACA;QACbA,QAAQA,CAACA,OAAOA,EAAEA,CAACA;QACnBA,QAAQA,GAAGA,IAAIA,CAACA;QAChBA,MAAMA,GAAGA,IAAIA,CAACA;IAClBA,CAACA;IAACA,IAAIA,CAACA,EAAEA,CAACA,CAACA,OAAOA,CAACA,EAAEA,CAACA,CAACA,CAACA,CAACA;QACrBA,IAAIA,MAAMA,GAAGA,OAAOA,CAACA,EAAEA,CAACA,CAACA;QACzBA,EAAEA,CAACA,CAACA,MAAMA,CAACA,cAAcA,CAACA;YACtBA,MAAMA,CAACA,cAAcA,CAACA,OAAOA,EAAEA,CAACA;QACpCA,OAAOA,OAAOA,CAACA,EAAEA,CAACA,CAACA;IACvBA,CAACA;AACLA,CAACA;AAQD,AANA,UAAU;wBAMc,MAAM,EAAE,OAAO,EAAE,IAAI;IACzCC,IAAIA,CAACA,MAAMA,GAAGA,MAAMA,CAACA;IACrBA,IAAIA,CAACA,OAAOA,GAAGA,OAAOA,CAACA;IACvBA,IAAIA,CAACA,IAAIA,GAAGA,IAAIA,CAACA;AACrBA,CAACA;AAED,IAAI,QAAQ,GAAG;IACX,OAAO,EAAE,SAAS;IAClB,KAAK,EAAE,OAAO;CACjB,CAAA;AAED,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC"}