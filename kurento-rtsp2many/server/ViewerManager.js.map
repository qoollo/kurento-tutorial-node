{"version":3,"sources":["server/ViewerManager.ts"],"names":["ViewerManager","ViewerManager.constructor","ViewerManager.viewers","ViewerManager.addViewer","ViewerManager.getViewerBySessionId","ViewerManager.getViewerByStreamUrl"],"mappings":"AACA,IAAO,SAAS,WAAW,aAAa,CAAC,CAAC;AAE1C;IAAAA;QAKYC,aAAQA,GAAaA,EAAEA,CAACA;QAExBA,cAASA,GAAGA,IAAIA,SAASA,EAAEA,CAACA;IAiBxCA,CAACA;IAtBGD,sBAAIA,kCAAOA;aAAXA;YACIE,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA;QACzBA,CAACA;;;OAAAF;IAKDA,iCAASA,GAATA,UAAUA,MAAcA;QACpBG,MAAMA,CAACA,SAASA,GAAGA,IAAIA,CAACA,SAASA,CAACA,YAAYA,CAACA;QAC/CA,IAAIA,CAACA,QAAQA,CAACA,IAAIA,CAACA,MAAMA,CAACA,CAACA;QAE3BA,MAAMA,CAACA,MAAMA,CAACA;IAClBA,CAACA;IAEDH,4CAAoBA,GAApBA,UAAqBA,EAAUA;QAC3BI,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA,MAAMA,CAACA,UAAAA,CAACA,IAAIA,OAAAA,CAACA,CAACA,SAASA,KAAKA,EAAEA,EAAlBA,CAAkBA,CAACA,CAACA,CAACA,CAACA,CAACA;IAC5DA,CAACA;IAEDJ,4CAAoBA,GAApBA,UAAqBA,SAAiBA;QAClCK,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA,MAAMA,CAACA,UAAAA,CAACA,IAAIA,OAAAA,CAACA,CAACA,SAASA,KAAKA,SAASA,EAAzBA,CAAyBA,CAACA,CAACA,CAACA,CAACA,CAACA;IACnEA,CAACA;IAELL,oBAACA;AAADA,CAxBA,AAwBCA,IAAA;AAED,iBAAS,aAAa,CAAC","file":"server/ViewerManager.js","sourcesContent":["\r\nimport IdCounter = require('./IdCounter');\r\n\r\nclass ViewerManager {\r\n\r\n    get viewers(): Viewer[] {\r\n        return this._viewers;\r\n    }\r\n    private _viewers: Viewer[] = [];\r\n\r\n    private idCounter = new IdCounter();\r\n\r\n    addViewer(viewer: Viewer): Viewer {\r\n        viewer.sessionId = this.idCounter.nextUniqueId;\r\n        this._viewers.push(viewer);\r\n\r\n        return viewer;\r\n    }\r\n\r\n    getViewerBySessionId(id: number): Viewer {\r\n        return this._viewers.filter(m => m.sessionId === id)[0];\r\n    }\r\n\r\n    getViewerByStreamUrl(streamUrl: string): Viewer {\r\n        return this._viewers.filter(m => m.streamUrl === streamUrl)[0];\r\n    }\r\n\r\n}\r\n\r\nexport = ViewerManager;"],"sourceRoot":"../"}