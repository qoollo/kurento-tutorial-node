{"version":3,"sources":["server/KurentoMonitor/MonitApiClient.ts"],"names":["MonitApiClient","MonitApiClient.constructor","MonitApiClient.getMonitStatus"],"mappings":"AAAA,IAAO,IAAI,WAAW,MAAM,CAAC,CAAC;AAC9B,IAAO,MAAM,WAAW,QAAQ,CAAC,CAAC;AAElC,IAAO,WAAW,WAAW,eAAe,CAAC,CAAC;AAG9C;IAAAA;IAgCAC,CAACA;IA/BAD,uCAAcA,GAAdA,UAAeA,GAAaA;QAC3BE,IAAIA,OAAOA,GAAGA;YACbA,IAAIA,EAAEA,GAAGA,CAACA,QAAQA,CAACA,IAAIA;YACvBA,IAAIA,EAAEA,GAAGA,CAACA,QAAQA,CAACA,IAAIA;SACvBA,CAACA;QACFA,IAAIA,WAAwBA,CAACA;QAE7BA,IAAIA,CAACA,GAAGA,CAACA,OAAOA,EAAEA,UAAAA,QAAQA;YACzBA,IAAIA,MAAMA,GAAWA,EAAEA,CAACA;YAExBA,QAAQA,CAACA,EAAEA,CAACA,MAAMA,EAAEA,UAAAA,KAAKA;gBACxBA,MAAMA,IAAIA,KAAKA,CAACA;YACjBA,CAACA,CAACA,CAACA;YACHA,QAAQA,CAACA,EAAEA,CAACA,OAAOA,EAAEA,UAAAA,KAAKA;gBACzBA,MAAMA,CAACA,OAAOA,CAACA,GAAGA,CAACA,KAAKA,CAACA,CAACA;YAC3BA,CAACA,CAACA,CAACA;YACHA,QAAQA,CAACA,EAAEA,CAACA,KAAKA,EAAEA;gBAElBA,IAAIA,GAAGA,GAAGA,MAAMA,CAACA,WAAWA,CAACA,MAAMA,EAAEA,UAACA,GAAGA,EAAEA,MAAMA;oBAChDA,EAAEA,CAACA,CAACA,GAAGA,IAAIA,IAAIA,CAACA;wBACfA,MAAMA,CAACA,OAAOA,CAACA,GAAGA,CAACA,GAAGA,CAACA,CAACA;oBACzBA,WAAWA,GAAGA,IAAIA,WAAWA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA;gBAC7CA,CAACA,CAACA,CAACA;YACJA,CAACA,CAACA,CAACA;QACJA,CAACA,CAACA,CAACA;QAEHA,MAAMA,CAACA,IAAIA,CAACA;IACbA,CAACA;IAIFF,qBAACA;AAADA,CAhCA,AAgCCA,IAAA;AAED,iBAAS,cAAc,CAAC","file":"server/KurentoMonitor/MonitApiClient.js","sourcesContent":["import http = require('http');\r\nimport xml2js = require('xml2js');\r\nimport MonitUrl = require('./MonitUrl');\r\nimport MonitStatus = require('./MonitStatus');\r\n\r\n\r\nclass MonitApiClient {\t\r\n\tgetMonitStatus(url: MonitUrl): Promise<MonitStatus> {\r\n\t\tvar options = {\r\n\t\t\thost: url.monitUrl.host,\r\n\t\t\tpath: url.monitUrl.path\r\n\t\t};\r\n\t\tvar monitStatus: MonitStatus;\r\n\t\t\r\n\t\thttp.get(options, response => {\r\n\t\t\tvar xmlSrc: string = '';\r\n\t\t\t\r\n\t\t\tresponse.on('data', chunk => {\r\n\t\t\t\txmlSrc += chunk;\r\n\t\t\t});\r\n\t\t\tresponse.on('error', error => {\r\n\t\t\t\treturn console.log(error);\r\n\t\t\t});\r\n\t\t\tresponse.on('end', () => \r\n\t\t\t{\r\n\t\t\t\tvar src = xml2js.parseString(xmlSrc, (err, result) => {\r\n\t\t\t\t\tif (err != null)\r\n\t\t\t\t\t\treturn console.log(err);\r\n\t\t\t\t\tmonitStatus = new MonitStatus(result.monit); \r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n\r\nexport = MonitApiClient;"],"sourceRoot":"../"}